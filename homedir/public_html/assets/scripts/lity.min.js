!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(n){return t(e,n)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(e,require("jquery")):e.lity=t(e,e.jQuery||e.Zepto)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(){p[v>0?"addClass":"removeClass"]("lity-active")}function i(e){var n=t.Deferred();return C?(e.one(C,n.resolve),setTimeout(n.resolve,500)):n.resolve(),n.promise()}function r(e,n,i){if(1===arguments.length)return t.extend({},e);if("string"==typeof n){if("undefined"==typeof i)return"undefined"==typeof e[n]?null:e[n];e[n]=i}else t.extend(e,n);return this}function o(e){for(var t,n=decodeURI(e).split("&"),i={},r=0,o=n.length;o>r;r++)n[r]&&(t=n[r].split("="),i[t[0]]=t[1]);return i}function a(e,n){return e+(e.indexOf("?")>-1?"&":"?")+t.param(n)}function l(e){return t('<span class="lity-error"/>').append(e)}function d(e){if(!m.test(e))return!1;var n=t('<img src="'+e+'">'),i=t.Deferred(),r=function(){i.reject(l("Failed loading image"))};return n.on("load",function(){return 0===this.naturalWidth?r():void i.resolve(n)}).on("error",r),i.promise()}function s(e){var n;try{n=t(e)}catch(i){return!1}if(!n.length)return!1;var r=t('<span style="display:none !important" class="lity-inline-placeholder"/>');return n.after(r).on("lity:ready",function(e,t){t.one("lity:remove",function(){r.before(n.addClass("lity-hide")).remove()})})}function u(e){var n,i=e;return n=h.exec(e),n&&(i=a("https://www.youtube"+(n[2]||"")+".com/embed/"+n[4],t.extend({autoplay:1},o(n[5]||"")))),n=g.exec(e),n&&(i=a("https://player.vimeo.com/video/"+n[3],t.extend({autoplay:1},o(n[4]||"")))),n=w.exec(e),n&&(i=a("https://www.google."+n[3]+"/maps?"+n[6],{output:n[6].indexOf("layer=c")>0?"svembed":"embed"})),'<div class="lity-iframe-container"><iframe frameborder="0" allowfullscreen src="'+i+'"></iframe></div>'}function c(e){function o(e){27===e.keyCode&&u()}function a(){var e=f.documentElement.clientHeight?f.documentElement.clientHeight:Math.round(y.height());m.css("max-height",Math.floor(e)+"px").trigger("lity:resize",[p])}function l(e,n){p&&(m=t(n),y.on("resize",a),a(),p.find(".lity-loader").each(function(){var e=t(this);i(e).always(function(){e.remove()})}),p.removeClass("lity-loading").find(".lity-content").empty().append(m),m.removeClass("lity-hide").trigger("lity:ready",[p,e]),w.resolve())}function d(e,i,r,a){w=t.Deferred(),v++,n(),p=t(r.template).addClass("lity-loading").appendTo("body"),r.esc&&y.on("keyup",o),setTimeout(function(){p.addClass("lity-opened lity-"+e).on("click","[data-lity-close]",function(e){t(e.target).is("[data-lity-close]")&&u()}).trigger("lity:open",[p,a]),t.when(i).always(t.proxy(l,null,a))},0)}function s(e,n,i){var r,o,a=t.extend({},x,g);if(n=t.extend({},b,h,n),n.handler&&a[n.handler])o=a[n.handler](e,c),r=n.handler;else{var l={};t.each(["inline","iframe"],function(e,t){a[t]&&(l[t]=a[t]),delete a[t]});var s=function(t,n){return n?(o=n(e,c),o?(r=t,!1):void 0):!0};t.each(a,s),r||t.each(l,s)}return o&&t.when(u()).done(t.proxy(d,null,r,o,n,i)),!!o}function u(){if(p){var e=t.Deferred();return w.done(function(){v--,n(),y.off("resize",a).off("keyup",o),m.trigger("lity:close",[p]),p.removeClass("lity-opened").addClass("lity-closed");var t=p,r=m;p=null,m=null,i(r.add(t)).always(function(){r.trigger("lity:remove",[t]),t.remove(),e.resolve()})}),e.promise()}}function c(e){if(!e.preventDefault)return c.open(e);var n=t(this),i=n.data("lity-target")||n.attr("href")||n.attr("src");if(i){var r=n.data("lity-options")||n.data("lity");s(i,r,n)&&(n.blur(),e.preventDefault())}}var p,m,h={},g={},w=t.Deferred().resolve();return c.handlers=t.proxy(r,c,g),c.options=t.proxy(r,c,h),c.open=function(e,t,n){return s(e,t,n),c},c.close=function(){return u(),c},c.options(e)}var f=e.document,y=t(e),p=t("html"),v=0,m=/(^data:image\/)|(\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\?\S*)?$)/i,h=/(youtube(-nocookie)?\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?([\w-]{11})(.*)?/i,g=/(vimeo(pro)?.com)\/(?:[^\d]+)?(\d+)\??(.*)?$/,w=/((maps|www)\.)?google\.([^\/\?]+)\/?((maps\/?)?\?)(.*)/i,x={image:d,inline:s,iframe:u},b={esc:!0,handler:null,template:'<div class="lity" tabindex="-1"><div class="lity-wrap" data-lity-close><div class="lity-loader">Loading...</div><div class="lity-container"><div class="lity-content"></div><button class="lity-close" type="button" title="Close (Esc)" data-lity-close>Ã—</button></div></div></div>'},C=function(){var e=f.createElement("div"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return t[n];return!1}();return c.version="1.6.6",c.handlers=t.proxy(r,c,x),c.options=t.proxy(r,c,b),t(f).on("click","[data-lity]",c()),c});
//# sourceMappingURL=maps/lity.min.js.map